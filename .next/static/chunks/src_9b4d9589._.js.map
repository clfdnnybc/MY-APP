{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/57block/my-app/src/lib/db.ts"],"sourcesContent":["import mysql from 'mysql2/promise';\n\nconst pool = mysql.createPool({\n  host: process.env.DB_HOST ,\n  user: process.env.DB_USER ,\n  password: process.env.DB_PASSWORD ,\n  database: process.env.DB_NAME ,\n  waitForConnections: true,\n  connectionLimit: 10,\n  queueLimit: 0\n});\n\nexport default pool;"],"names":[],"mappings":";;;AAGQ;AAHR;;AAEA,MAAM,OAAO,oIAAA,CAAA,UAAK,CAAC,UAAU,CAAC;IAC5B,MAAM,gKAAA,CAAA,UAAO,CAAC,GAAG,CAAC,OAAO;IACzB,MAAM,gKAAA,CAAA,UAAO,CAAC,GAAG,CAAC,OAAO;IACzB,UAAU,gKAAA,CAAA,UAAO,CAAC,GAAG,CAAC,WAAW;IACjC,UAAU,gKAAA,CAAA,UAAO,CAAC,GAAG,CAAC,OAAO;IAC7B,oBAAoB;IACpB,iBAAiB;IACjB,YAAY;AACd;uCAEe","debugId":null}},
    {"offset": {"line": 32, "column": 0}, "map": {"version":3,"sources":["file:///Users/57block/my-app/src/lib/news.ts"],"sourcesContent":["import pool from './db';\n\nexport interface News {\n  id?: number;\n  title: string;\n  content: string;\n  date: string;\n  published: boolean;\n}\n\nexport const getNews = async (publishedOnly: boolean = true) => {\n  const connection = await pool.getConnection();\n  try {\n    let query = 'SELECT * FROM news';\n    if (publishedOnly) query += ' WHERE published = true';\n    query += ' ORDER BY date DESC';\n    \n    const [rows] = await connection.query(query);\n    return rows as News[];\n  } finally {\n    connection.release();\n  }\n};\n\nexport const getNewsById = async (id: number) => {\n  const connection = await pool.getConnection();\n  try {\n    const [rows] = await connection.query(\n      'SELECT * FROM news WHERE id = ?', \n      [id]\n    );\n    return (rows as News[])[0];\n  } finally {\n    connection.release();\n  }\n};\n\nexport const createNews = async (news: Omit<News, 'id'>) => {\n  const connection = await pool.getConnection();\n  try {\n    const [result] = await connection.query(\n      'INSERT INTO news (title, content, date, published) VALUES (?, ?, ?, ?)',\n      [news.title, news.content, news.date, news.published]\n    );\n    return (result as any).insertId;\n  } finally {\n    connection.release();\n  }\n};\n\nexport const updateNews = async (id: number, news: Partial<News>) => {\n  const connection = await pool.getConnection();\n  try {\n    await connection.query(\n      'UPDATE news SET title = ?, content = ?, published = ? WHERE id = ?',\n      [news.title, news.content, news.published, id]\n    );\n    return true;\n  } finally {\n    connection.release();\n  }\n};\n\nexport const deleteNews = async (id: number) => {\n  const connection = await pool.getConnection();\n  try {\n    await connection.query('DELETE FROM news WHERE id = ?', [id]);\n    return true;\n  } finally {\n    connection.release();\n  }\n};"],"names":[],"mappings":";;;;;;;AAAA;;AAUO,MAAM,UAAU;QAAO,iFAAyB;IACrD,MAAM,aAAa,MAAM,mHAAA,CAAA,UAAI,CAAC,aAAa;IAC3C,IAAI;QACF,IAAI,QAAQ;QACZ,IAAI,eAAe,SAAS;QAC5B,SAAS;QAET,MAAM,CAAC,KAAK,GAAG,MAAM,WAAW,KAAK,CAAC;QACtC,OAAO;IACT,SAAU;QACR,WAAW,OAAO;IACpB;AACF;AAEO,MAAM,cAAc,OAAO;IAChC,MAAM,aAAa,MAAM,mHAAA,CAAA,UAAI,CAAC,aAAa;IAC3C,IAAI;QACF,MAAM,CAAC,KAAK,GAAG,MAAM,WAAW,KAAK,CACnC,mCACA;YAAC;SAAG;QAEN,OAAO,AAAC,IAAe,CAAC,EAAE;IAC5B,SAAU;QACR,WAAW,OAAO;IACpB;AACF;AAEO,MAAM,aAAa,OAAO;IAC/B,MAAM,aAAa,MAAM,mHAAA,CAAA,UAAI,CAAC,aAAa;IAC3C,IAAI;QACF,MAAM,CAAC,OAAO,GAAG,MAAM,WAAW,KAAK,CACrC,0EACA;YAAC,KAAK,KAAK;YAAE,KAAK,OAAO;YAAE,KAAK,IAAI;YAAE,KAAK,SAAS;SAAC;QAEvD,OAAO,AAAC,OAAe,QAAQ;IACjC,SAAU;QACR,WAAW,OAAO;IACpB;AACF;AAEO,MAAM,aAAa,OAAO,IAAY;IAC3C,MAAM,aAAa,MAAM,mHAAA,CAAA,UAAI,CAAC,aAAa;IAC3C,IAAI;QACF,MAAM,WAAW,KAAK,CACpB,sEACA;YAAC,KAAK,KAAK;YAAE,KAAK,OAAO;YAAE,KAAK,SAAS;YAAE;SAAG;QAEhD,OAAO;IACT,SAAU;QACR,WAAW,OAAO;IACpB;AACF;AAEO,MAAM,aAAa,OAAO;IAC/B,MAAM,aAAa,MAAM,mHAAA,CAAA,UAAI,CAAC,aAAa;IAC3C,IAAI;QACF,MAAM,WAAW,KAAK,CAAC,iCAAiC;YAAC;SAAG;QAC5D,OAAO;IACT,SAAU;QACR,WAAW,OAAO;IACpB;AACF","debugId":null}},
    {"offset": {"line": 113, "column": 0}, "map": {"version":3,"sources":["file:///Users/57block/my-app/src/app/dashboard/page.tsx"],"sourcesContent":["'use client';\nimport Link from 'next/link';\nimport { useTranslation } from 'react-i18next';\nimport { getNews } from '../../lib/news';\nimport { useEffect, useState } from 'react';\nimport { News } from '../../lib/news';\n\nexport default function DashboardHome() {\n  const { t } = useTranslation();\n  const [news, setNews] = useState<News[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const fetchNews = async () => {\n      try {\n        const data = await getNews(true);\n        setNews(data);\n      } catch (error) {\n        console.error('Failed to fetch news:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    \n    fetchNews();\n  }, []);\n\n  if (loading) {\n    return (\n      <div className=\"p-6\">\n        <div className=\"animate-pulse\">\n          <div className=\"h-8 bg-gray-200 dark:bg-gray-700 rounded w-1/3 mb-6\"></div>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n            {[...Array(3)].map((_, i) => (\n              <div key={i} className=\"bg-white dark:bg-gray-800 rounded-xl shadow-md p-4\">\n                <div className=\"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4 mb-3\"></div>\n                <div className=\"h-3 bg-gray-200 dark:bg-gray-700 rounded w-full mb-2\"></div>\n                <div className=\"h-3 bg-gray-200 dark:bg-gray-700 rounded w-5/6 mb-4\"></div>\n                <div className=\"h-3 bg-gray-200 dark:bg-gray-700 rounded w-1/3\"></div>\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"p-6\">\n      <div className=\"flex justify-between items-center mb-6\">\n        <h1 className=\"text-2xl font-bold text-gray-800 dark:text-gray-200\">\n          {t('latestNews')}\n        </h1>\n        <Link href=\"/dashboard/news/edit\">\n          <button className=\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center\">\n            <span className=\"icon-[mynaui--plus] mr-2 w-5 h-5\"></span>\n            {t('addNews')}\n          </button>\n        </Link>\n      </div>\n\n      {news.length === 0 ? (\n        <div className=\"bg-white dark:bg-gray-800 rounded-xl shadow-md p-8 text-center\">\n          <div className=\"text-5xl mb-4\">ðŸ“°</div>\n          <h3 className=\"text-lg font-medium text-gray-800 dark:text-gray-200 mb-2\">\n            {t('noNewsTitle')}\n          </h3>\n          <p className=\"text-gray-600 dark:text-gray-400 mb-4\">\n            {t('noNewsDescription')}\n          </p>\n          <Link href=\"/dashboard/news/edit\">\n            <button className=\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg\">\n              {t('createFirstNews')}\n            </button>\n          </Link>\n        </div>\n      ) : (\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n          {news.map(item => (\n            <div key={item.id} className=\"bg-white dark:bg-gray-800 rounded-xl shadow-md overflow-hidden hover:shadow-lg transition-shadow\">\n              <div className=\"p-6\">\n                <div className=\"flex justify-between items-start mb-3\">\n                  <h2 className=\"text-lg font-semibold text-gray-800 dark:text-gray-200\">\n                    {item.title}\n                  </h2>\n                  <span className={`px-2 py-1 text-xs rounded-full ${\n                    item.published \n                      ? 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200' \n                      : 'bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300'\n                  }`}>\n                    {item.published ? t('published') : t('draft')}\n                  </span>\n                </div>\n                <p className=\"text-gray-600 dark:text-gray-400 text-sm mb-4 line-clamp-3\">\n                  {item.content}\n                </p>\n                <div className=\"flex justify-between items-center\">\n                  <span className=\"text-xs text-gray-500 dark:text-gray-400\">\n                    {new Date(item.date).toLocaleDateString()}\n                  </span>\n                  <Link href={`/dashboard/news/${item.id}`} className=\"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 text-sm\">\n                    {t('readMore')}\n                  </Link>\n                </div>\n              </div>\n              <div className=\"bg-gray-50 dark:bg-gray-900 px-4 py-3 border-t border-gray-200 dark:border-gray-700 flex justify-end\">\n                <Link \n                  href={`/dashboard/news/edit?id=${item.id}`}\n                  className=\"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 text-sm flex items-center\"\n                >\n                  <span className=\"icon-[mynaui--pencil] mr-1 w-4 h-4\"></span>\n                  {t('edit')}\n                </Link>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}}]
}