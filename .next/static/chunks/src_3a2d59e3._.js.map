{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/57block/my-app/src/app/UsernameContext.tsx"],"sourcesContent":["\"use client\";\nimport { createContext, useContext, useState, useEffect, ReactNode } from \"react\";\nimport i18n from \"../i18n\";\n\ntype Ctx = {\n  username: string;\n  setUsername: (u: string) => void;\n  dark: boolean;\n  toggleDark: () => void;\n  font: string;\n  setFont: (f: string) => void;\n  zoom: string;\n  setZoom: (z: string) => void;\n};\n\nconst UsernameContext = createContext<Ctx>({\n  username: \"Admin\",\n  setUsername: () => {},\n  dark: false,\n  toggleDark: () => {},\n  font: \"16\",\n  setFont: () => {},\n  zoom: \"100\",\n  setZoom: () => {},\n});\n\nexport const useUsername = () => useContext(UsernameContext);\n\nexport const UsernameProvider = ({ children }: { children: ReactNode }) => {\n  const [username, setUsername] = useState(\"Admin\");\n  const [dark, setDark]   = useState(false);\n  const [font, setFont]   = useState(\"16\");\n  const [zoom, setZoom]   = useState(\"100\");\n\n  useEffect(() => {\n    // 从 localStorage 读取设置\n    const storedDark = localStorage.getItem(\"dark\") === \"true\";\n    setUsername(localStorage.getItem(\"username\") || \"Admin\");\n    setDark(storedDark);\n    setFont(localStorage.getItem(\"font\") || \"16\");\n    setZoom(localStorage.getItem(\"zoom\") || \"100\");\n    \n    // 立即应用暗模式类名\n    document.documentElement.classList.toggle(\"dark\", storedDark);\n  }, []);\n\n  useEffect(() => {\n    localStorage.setItem(\"username\", username);\n    localStorage.setItem(\"dark\", String(dark));\n    localStorage.setItem(\"font\", font);\n    localStorage.setItem(\"zoom\", zoom);\n  }, [username, dark, font, zoom]);\n\n  useEffect(() => {\n    document.documentElement.classList.toggle(\"dark\", dark);\n    document.documentElement.style.setProperty(\"--user-font\", `${font}px`);\n    document.documentElement.style.setProperty(\"--user-zoom\", `${zoom}%`);\n  }, [dark, font, zoom]);\n\n  return (\n    <UsernameContext.Provider\n      value={{\n        username,\n        setUsername,\n        dark,\n        toggleDark: () => setDark((d) => !d),\n        font,\n        setFont,\n        zoom,\n        setZoom,\n      }}\n    >\n      {children}\n    </UsernameContext.Provider>\n  );\n};"],"names":[],"mappings":";;;;;AACA;;;AADA;;AAeA,MAAM,gCAAkB,CAAA,GAAA,6JAAA,CAAA,gBAAa,AAAD,EAAO;IACzC,UAAU;IACV,aAAa,KAAO;IACpB,MAAM;IACN,YAAY,KAAO;IACnB,MAAM;IACN,SAAS,KAAO;IAChB,MAAM;IACN,SAAS,KAAO;AAClB;AAEO,MAAM,cAAc;;IAAM,OAAA,CAAA,GAAA,6JAAA,CAAA,aAAU,AAAD,EAAE;AAAe;GAA9C;AAEN,MAAM,mBAAmB;QAAC,EAAE,QAAQ,EAA2B;;IACpE,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACzC,MAAM,CAAC,MAAM,QAAQ,GAAK,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACnC,MAAM,CAAC,MAAM,QAAQ,GAAK,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACnC,MAAM,CAAC,MAAM,QAAQ,GAAK,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAEnC,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;sCAAE;YACR,sBAAsB;YACtB,MAAM,aAAa,aAAa,OAAO,CAAC,YAAY;YACpD,YAAY,aAAa,OAAO,CAAC,eAAe;YAChD,QAAQ;YACR,QAAQ,aAAa,OAAO,CAAC,WAAW;YACxC,QAAQ,aAAa,OAAO,CAAC,WAAW;YAExC,YAAY;YACZ,SAAS,eAAe,CAAC,SAAS,CAAC,MAAM,CAAC,QAAQ;QACpD;qCAAG,EAAE;IAEL,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;sCAAE;YACR,aAAa,OAAO,CAAC,YAAY;YACjC,aAAa,OAAO,CAAC,QAAQ,OAAO;YACpC,aAAa,OAAO,CAAC,QAAQ;YAC7B,aAAa,OAAO,CAAC,QAAQ;QAC/B;qCAAG;QAAC;QAAU;QAAM;QAAM;KAAK;IAE/B,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;sCAAE;YACR,SAAS,eAAe,CAAC,SAAS,CAAC,MAAM,CAAC,QAAQ;YAClD,SAAS,eAAe,CAAC,KAAK,CAAC,WAAW,CAAC,eAAe,AAAC,GAAO,OAAL,MAAK;YAClE,SAAS,eAAe,CAAC,KAAK,CAAC,WAAW,CAAC,eAAe,AAAC,GAAO,OAAL,MAAK;QACpE;qCAAG;QAAC;QAAM;QAAM;KAAK;IAErB,qBACE,6LAAC,gBAAgB,QAAQ;QACvB,OAAO;YACL;YACA;YACA;YACA,YAAY,IAAM,QAAQ,CAAC,IAAM,CAAC;YAClC;YACA;YACA;YACA;QACF;kBAEC;;;;;;AAGP;IA/Ca;KAAA","debugId":null}},
    {"offset": {"line": 112, "column": 0}, "map": {"version":3,"sources":["file:///Users/57block/my-app/src/i18n.ts"],"sourcesContent":["import i18n from \"i18next\";\nimport { initReactI18next } from \"react-i18next\";\nimport LanguageDetector from \"i18next-browser-languagedetector\";\nimport en from \"./locales/en.json\";\nimport zh from \"./locales/zh.json\";\n\ni18n\n  .use(LanguageDetector) // 加上这一行\n  .use(initReactI18next)\n  .init({\n    resources: {\n      en: { translation: en },\n      zh: { translation: zh },\n    },\n    fallbackLng: \"en\", // 默认英文\n    interpolation: { escapeValue: false },\n    detection: {\n      // 优先级：localStorage > navigator > html lang\n      order: [\"localStorage\", \"navigator\", \"htmlTag\"],\n      caches: [\"localStorage\"], // 语言写入 localStorage\n    },\n  });\n\nexport default i18n;"],"names":[],"mappings":";;;AAAA;AACA;AAAA;AACA;AACA;AACA;;;;;;AAEA,oJAAA,CAAA,UAAI,CACD,GAAG,CAAC,0MAAA,CAAA,UAAgB,EAAE,QAAQ;CAC9B,GAAG,CAAC,qKAAA,CAAA,mBAAgB,EACpB,IAAI,CAAC;IACJ,WAAW;QACT,IAAI;YAAE,aAAa,4FAAA,CAAA,UAAE;QAAC;QACtB,IAAI;YAAE,aAAa,4FAAA,CAAA,UAAE;QAAC;IACxB;IACA,aAAa;IACb,eAAe;QAAE,aAAa;IAAM;IACpC,WAAW;QACT,2CAA2C;QAC3C,OAAO;YAAC;YAAgB;YAAa;SAAU;QAC/C,QAAQ;YAAC;SAAe;IAC1B;AACF;uCAEa,oJAAA,CAAA,UAAI","debugId":null}},
    {"offset": {"line": 162, "column": 0}, "map": {"version":3,"sources":["file:///Users/57block/my-app/src/app/layout.tsx"],"sourcesContent":["\"use client\";\nimport { ReactNode } from \"react\";\nimport { UsernameProvider } from \"./UsernameContext\";\nimport './globals.css';\nimport \"../i18n\";\n\ninterface Props {\n  children: ReactNode;\n}\n\nexport default function RootLayout({ children }: Props) {\n  return (\n    <html lang=\"en\" translate=\"no\">\n      <body className=\"flex flex-col min-h-screen\">\n        <UsernameProvider>\n          {children}\n        </UsernameProvider>\n      </body>\n    </html>\n  );\n}"],"names":[],"mappings":";;;;AAEA;AAEA;AAJA;;;;;AAUe,SAAS,WAAW,KAAmB;QAAnB,EAAE,QAAQ,EAAS,GAAnB;IACjC,qBACE,6LAAC;QAAK,MAAK;QAAK,WAAU;kBACxB,cAAA,6LAAC;YAAK,WAAU;sBACd,cAAA,6LAAC,iIAAA,CAAA,mBAAgB;0BACd;;;;;;;;;;;;;;;;AAKX;KAVwB","debugId":null}}]
}