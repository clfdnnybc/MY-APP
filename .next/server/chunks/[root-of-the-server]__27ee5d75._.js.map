{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 162, "column": 0}, "map": {"version":3,"sources":["file:///Users/57block/my-app/src/lib/db.ts"],"sourcesContent":["import mysql from 'mysql2/promise';\n\nconst pool = mysql.createPool({\n  host: process.env.DB_HOST ,\n  user: process.env.DB_USER ,\n  password: process.env.DB_PASSWORD ,\n  database: process.env.DB_NAME ,\n  waitForConnections: true,\n  connectionLimit: 10,\n  queueLimit: 0\n});\n\nexport default pool;"],"names":[],"mappings":";;;AAAA;;AAEA,MAAM,OAAO,mIAAA,CAAA,UAAK,CAAC,UAAU,CAAC;IAC5B,MAAM,QAAQ,GAAG,CAAC,OAAO;IACzB,MAAM,QAAQ,GAAG,CAAC,OAAO;IACzB,UAAU,QAAQ,GAAG,CAAC,WAAW;IACjC,UAAU,QAAQ,GAAG,CAAC,OAAO;IAC7B,oBAAoB;IACpB,iBAAiB;IACjB,YAAY;AACd;uCAEe","debugId":null}},
    {"offset": {"line": 181, "column": 0}, "map": {"version":3,"sources":["file:///Users/57block/my-app/src/app/api/news/route.ts"],"sourcesContent":["import { NextResponse } from 'next/server';\nimport pool from '@/lib/db';\nimport { RowDataPacket } from 'mysql2';\n\nexport async function GET() {\n  try {\n    const [rows] = await pool.query<RowDataPacket[]>(\n      'SELECT * FROM news WHERE published = true ORDER BY date DESC'\n    );\n    \n    // 确保总是返回数组，即使查询出错或没有数据\n    const news = Array.isArray(rows) ? rows : [];\n    \n    return NextResponse.json(news);\n  } catch (error) {\n    console.error('Database error:', error);\n    // 返回空数组而不是错误，让前端处理空状态\n    return NextResponse.json([], { status: 200 });\n  }\n}"],"names":[],"mappings":";;;AAAA;AACA;;;AAGO,eAAe;IACpB,IAAI;QACF,MAAM,CAAC,KAAK,GAAG,MAAM,kHAAA,CAAA,UAAI,CAAC,KAAK,CAC7B;QAGF,uBAAuB;QACvB,MAAM,OAAO,MAAM,OAAO,CAAC,QAAQ,OAAO,EAAE;QAE5C,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;IAC3B,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,mBAAmB;QACjC,sBAAsB;QACtB,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC,EAAE,EAAE;YAAE,QAAQ;QAAI;IAC7C;AACF","debugId":null}}]
}